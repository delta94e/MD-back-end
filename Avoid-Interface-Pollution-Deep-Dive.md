# Avoid Interface Pollution â€” TrÃ¡nh Ã” Nhiá»…m Interface

> **TÃ i liá»‡u há»c dÃ nh cho:** NgÆ°á»i má»›i báº¯t Ä‘áº§u, chuáº©n bá»‹ phá»ng váº¥n Senior Golang Software Engineer
> **Nguá»“n gá»‘c:** BÃ i viáº¿t "Avoid Interface Pollution" cá»§a William Kennedy (2016)
> **GÃ³c nhÃ¬n:** Khi nÃ o NÃŠN vÃ  KHÃ”NG NÃŠN dÃ¹ng interface â€” Design Guideline
> **NgÃ´n ngá»¯:** HoÃ n toÃ n báº±ng Tiáº¿ng Viá»‡t

---

## Má»¥c lá»¥c

| #   | Chá»§ Ä‘á»                              | MÃ´ táº£                                   |
| --- | ----------------------------------- | --------------------------------------- |
| Â§1  | Interface Pollution lÃ  gÃ¬?          | Äá»‹nh nghÄ©a vÃ  táº¡i sao xáº£y ra            |
| Â§2  | Code Example â€” 4 Smell List         | VÃ­ dá»¥ tcp.Server vá»›i 4 dáº¥u hiá»‡u Ã´ nhiá»…m |
| Â§3  | PhÃ¢n tÃ­ch tá»«ng Smell                | Giáº£i thÃ­ch chi tiáº¿t 4 dáº¥u hiá»‡u          |
| Â§4  | Refactoring â€” Bá» interface          | TrÆ°á»›c vÃ  sau khi bá» interface thá»«a      |
| Â§5  | Khi nÃ o NÃŠN dÃ¹ng interface          | 3 Guidelines chÃ­nh thá»©c                 |
| Â§6  | Khi nÃ o KHÃ”NG NÃŠN dÃ¹ng interface    | Anti-patterns phá»• biáº¿n                  |
| Â§7  | Tá»•ng káº¿t & CÃ¢u há»i phá»ng váº¥n Senior | Ã”n táº­p & thá»±c hÃ nh                      |

---

## Â§1. Interface Pollution LÃ  GÃ¬?

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   INTERFACE POLLUTION â€” Ã” NHIá»„M INTERFACE                    â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  Äá»ŠNH NGHÄ¨A:                                                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ Interface Pollution = Sá»­ dá»¥ng interface      â”‚             â•‘
â•‘  â”‚ khi KHÃ”NG Cáº¦N THIáº¾T!                         â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ Kennedy:                                      â”‚             â•‘
â•‘  â”‚ "Interfaces should ONLY be used when their   â”‚             â•‘
â•‘  â”‚  added value is CLEAR."                      â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ Interface pháº£i cÃ³ GIÃ TRá»Š RÃ• RÃ€NG!       â”‚             â•‘
â•‘  â”‚ â†’ KhÃ´ng cÃ³ giÃ¡ trá»‹ = Äá»ªNG DÃ™NG!             â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  Táº I SAO Xáº¢Y RA?                                              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ 1. ThÃ³i quen tá»« OOP (Java, C#):              â”‚             â•‘
â•‘  â”‚    â†’ "Pháº£i cÃ³ interface cho Má»ŒI THá»¨!"       â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ 2. Táº¡o interface "cho cÃ³":                    â”‚             â•‘
â•‘  â”‚    â†’ KhÃ´ng cÃ³ lÃ½ do cá»¥ thá»ƒ                  â”‚             â•‘
â•‘  â”‚    â†’ "Lá»¡ sau nÃ y cáº§n thÃ¬ sao?"              â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ 3. Nháº§m tÆ°á»Ÿng interface = "tá»‘t hÆ¡n":        â”‚             â•‘
â•‘  â”‚    â†’ ThÃªm abstraction = thÃªm phá»©c táº¡p!      â”‚             â•‘
â•‘  â”‚    â†’ KhÃ´ng pháº£i abstraction = luÃ´n tá»‘t!     â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ 4. KhÃ´ng hiá»ƒu Go implicit interface:          â”‚             â•‘
â•‘  â”‚    â†’ Trong Go, USER tá»± declare interface!    â”‚             â•‘
â•‘  â”‚    â†’ PRODUCER khÃ´ng cáº§n!                      â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Â§2. Code Example â€” 4 Smell List

### 2.1 Code cÃ³ mÃ¹i Ã´ nhiá»…m

```go
// â•â•â• CODE Vá»šI INTERFACE POLLUTION â•â•â•

package tcp

// Server defines a contract for tcp servers.
type Server interface {   // â† Interface EXPORT!
    Start() error
    Stop() error
    Wait() error
}

// server is our Server implementation.
type server struct {      // â† Concrete type UNEXPORT!
    /* impl */
}

// NewServer returns an interface value of type Server
func NewServer(host string) Server {  // â† Return INTERFACE!
    return &server{host}
}

func (s *server) Start() error { /* impl */ }
func (s *server) Stop() error  { /* impl */ }
func (s *server) Wait() error  { /* impl */ }
```

### 2.2 Bá»‘n dáº¥u hiá»‡u Ã´ nhiá»…m

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   4 SMELL LIST â€” Dáº¤U HIá»†U Ã” NHIá»„M                          â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  ğŸš© #1: Interface = DUPLICATE toÃ n bá»™ API!                  â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ type Server interface {    type server struct â”‚             â•‘
â•‘  â”‚     Start() error           Start() error     â”‚             â•‘
â•‘  â”‚     Stop() error            Stop() error      â”‚             â•‘
â•‘  â”‚     Wait() error            Wait() error      â”‚             â•‘
â•‘  â”‚ }                          }                  â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ Interface copy CHÃNH XÃC toÃ n bá»™ methods! â”‚             â•‘
â•‘  â”‚ â†’ KhÃ´ng thÃªm GIÃ TRá»Š gÃ¬!                   â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  ğŸš© #2: Factory function return INTERFACE!                   â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ func NewServer(host string) Server {          â”‚             â•‘
â•‘  â”‚     return &server{host}                      â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚         â†‘ Return Server (interface!)          â”‚             â•‘
â•‘  â”‚         â†‘ Chá»©a &server (unexported!)         â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ User KHÃ”NG THá»‚ truy cáº­p concrete type!    â”‚             â•‘
â•‘  â”‚ â†’ Bá»‹ Ã‰P dÃ¹ng interface!                      â”‚             â•‘
â•‘  â”‚ â†’ Giáº¥u concrete type khÃ´ng cáº§n thiáº¿t!       â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  ğŸš© #3: Bá» interface = KHÃ”NG áº£nh hÆ°á»Ÿng user!               â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ User code TRÆ¯á»šC (dÃ¹ng interface):            â”‚             â•‘
â•‘  â”‚   s := tcp.NewServer("localhost")             â”‚             â•‘
â•‘  â”‚   s.Start()                                   â”‚             â•‘
â•‘  â”‚   s.Stop()                                    â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ User code SAU (dÃ¹ng concrete):               â”‚             â•‘
â•‘  â”‚   s := tcp.NewServer("localhost")             â”‚             â•‘
â•‘  â”‚   s.Start()   â† HOÃ€N TOÃ€N GIá»NG NHAU!      â”‚             â•‘
â•‘  â”‚   s.Stop()                                    â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ Bá» interface â†’ user code KHÃ”NG Äá»”I!      â”‚             â•‘
â•‘  â”‚ â†’ Interface KHÃ”NG THÃŠM giÃ¡ trá»‹!              â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  ğŸš© #4: Interface KHÃ”NG decouple khá»i change!              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ Há»i: "Khi nÃ o sáº½ cÃ³ implementation Má»šI     â”‚             â•‘
â•‘  â”‚ cá»§a Server?"                                  â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ KHÃ”NG BAO GIá»œ!                             â”‚             â•‘
â•‘  â”‚ â†’ Chá»‰ cÃ³ 1 implementation duy nháº¥t!          â”‚             â•‘
â•‘  â”‚ â†’ Interface khÃ´ng giÃºp decouple tá»« change!  â”‚             â•‘
â•‘  â”‚ â†’ Interface VÃ” Dá»¤NG trong trÆ°á»ng há»£p nÃ y!  â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Â§3. PhÃ¢n TÃ­ch Tá»«ng Smell

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   PHÃ‚N TÃCH CHI TIáº¾T Tá»ªNG SMELL                              â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  SMELL #1 â€” Interface = mirror cá»§a concrete type:            â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚  Server interface          server struct     â”‚             â•‘
â•‘  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚             â•‘
â•‘  â”‚  â”‚ Start() error   â”‚ â•â•â•â†’ â”‚ Start() error  â”‚â”‚             â•‘
â•‘  â”‚  â”‚ Stop() error    â”‚ â•â•â•â†’ â”‚ Stop() error   â”‚â”‚             â•‘
â•‘  â”‚  â”‚ Wait() error    â”‚ â•â•â•â†’ â”‚ Wait() error   â”‚â”‚             â•‘
â•‘  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚             â•‘
â•‘  â”‚       1:1 mapping!                           â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ Náº¿u interface = EXACT copy â†’ RED FLAG!    â”‚             â•‘
â•‘  â”‚ â†’ Interface nÃªn chá»‰ chá»©a methods MÃ€ CALLER â”‚             â•‘
â•‘  â”‚   Cáº¦N, khÃ´ng pháº£i Má»ŒI methods!             â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  SMELL #2 â€” Factory return interface:                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚  âŒ TRÆ¯á»šC:                                    â”‚             â•‘
â•‘  â”‚  func NewServer(host string) Server {         â”‚             â•‘
â•‘  â”‚      return &server{host}                     â”‚             â•‘
â•‘  â”‚  }                                            â”‚             â•‘
â•‘  â”‚  â†’ Return interface + unexported concrete!   â”‚             â•‘
â•‘  â”‚  â†’ User bá»‹ locked vÃ o interface layer!       â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚  Go philosophy:                               â”‚             â•‘
â•‘  â”‚  "Accept interfaces, RETURN structs"          â”‚             â•‘
â•‘  â”‚  â†’ Nháº­n interface, TRáº¢ struct!               â”‚             â•‘
â•‘  â”‚  â†’ Äá»ƒ USER tá»± quyáº¿t dÃ¹ng interface nÃ o!     â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  SMELL #3 & #4 â€” KhÃ´ng thÃªm giÃ¡ trá»‹:                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ TEST: "Bá» interface, user code cÃ³ Ä‘á»•i?"     â”‚             â•‘
â•‘  â”‚ â†’ KHÃ”NG = interface THá»ªA!                    â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ TEST: "Sáº½ cÃ³ implementation Má»šI?"            â”‚             â•‘
â•‘  â”‚ â†’ KHÃ”NG = interface KHÃ”NG decouple gÃ¬!      â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ ThÃªm interface thá»«a = thÃªm:                  â”‚             â•‘
â•‘  â”‚ â†’ 1 layer indirection (cháº­m hÆ¡n!)           â”‚             â•‘
â•‘  â”‚ â†’ Complexity (phá»©c táº¡p hÆ¡n!)                â”‚             â•‘
â•‘  â”‚ â†’ Allocation (interface gÃ¢y escape!)         â”‚             â•‘
â•‘  â”‚ â†’ KHÃ”NG thÃªm giÃ¡ trá»‹!                       â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Â§4. Refactoring â€” Bá» Interface Thá»«a

### 4.1 TrÆ°á»›c vÃ  sau

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   REFACTORING â€” TRÆ¯á»šC vs SAU                                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  âŒ TRÆ¯á»šC (Interface Pollution):                              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ type Server interface {   // Exported iface  â”‚             â•‘
â•‘  â”‚     Start() error                             â”‚             â•‘
â•‘  â”‚     Stop() error                              â”‚             â•‘
â•‘  â”‚     Wait() error                              â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚ type server struct { ... } // unexported     â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ func NewServer(host string) Server {          â”‚             â•‘
â•‘  â”‚     return &server{host} // return iface!    â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ User â†’ NewServer() â†’ Server (interface)      â”‚             â•‘
â•‘  â”‚                        â†’ server (hidden!)    â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  âœ… SAU (Clean â€” bá» interface thá»«a):                         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ // Bá» interface!                              â”‚             â•‘
â•‘  â”‚ // EXPORT concrete type!                      â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ type Server struct { ... } // EXPORTED!      â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ func NewServer(host string) *Server {         â”‚             â•‘
â•‘  â”‚     return &Server{host} // return CONCRETE! â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ User â†’ NewServer() â†’ *Server (concrete!)     â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  SO SÃNH:                                                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â•‘
â•‘  â”‚ TiÃªu chÃ­        â”‚ âŒ TRÆ¯á»šC  â”‚ âœ… SAU     â”‚               â•‘
â•‘  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤               â•‘
â•‘  â”‚ User code       â”‚ Giá»‘ng há»‡t â”‚ Giá»‘ng há»‡t  â”‚               â•‘
â•‘  â”‚ Performance     â”‚ Indirect  â”‚ DIRECT!     â”‚               â•‘
â•‘  â”‚ Complexity      â”‚ 2 types   â”‚ 1 type!     â”‚               â•‘
â•‘  â”‚ Allocation      â”‚ Interface â”‚ No iface!   â”‚               â•‘
â•‘  â”‚ Readability     â”‚ Phá»©c táº¡p â”‚ ÄÆ N GIáº¢N!  â”‚               â•‘
â•‘  â”‚ Go idiom        â”‚ âŒ        â”‚ âœ…         â”‚               â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â•‘
â•‘                                                               â•‘
â•‘  â†’ Bá» interface = NHANH HÆ N + ÄÆ N GIáº¢N HÆ N!               â•‘
â•‘  â†’ User code KHÃ”NG Äá»”I!                                     â•‘
â•‘  â†’ "Accept interfaces, RETURN structs!"                      â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Â§5. Khi NÃ o NÃŠN DÃ¹ng Interface

### 5.1 Ba Guidelines chÃ­nh thá»©c

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   KHI NÃ€O NÃŠN DÃ™NG INTERFACE â€” 3 GUIDELINES                 â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  âœ… GUIDELINE #1: User Cáº¦N cung cáº¥p implementation!         â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ VÃ­ dá»¥: io.Reader, io.Writer                   â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ type Reader interface {                       â”‚             â•‘
â•‘  â”‚     Read(p []byte) (n int, err error)         â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ func Copy(dst Writer, src Reader) (int64, error)â”‚            â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ API KHÃ”NG BIáº¾T user sáº½ truyá»n gÃ¬!        â”‚             â•‘
â•‘  â”‚ â†’ CÃ³ thá»ƒ lÃ  file, network, buffer, ...       â”‚             â•‘
â•‘  â”‚ â†’ USER tá»± implement Reader!                   â”‚             â•‘
â•‘  â”‚ â†’ Interface Cáº¦N THIáº¾T!                        â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  âœ… GUIDELINE #2: API cÃ³ NHIá»€U implementations!             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ VÃ­ dá»¥: database/sql                           â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ type Driver interface {                       â”‚             â•‘
â•‘  â”‚     Open(name string) (Conn, error)           â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ MySQL driver, Postgres driver, SQLite, ...  â”‚             â•‘
â•‘  â”‚ â†’ NHIá»€U implementations bÃªn trong API!       â”‚             â•‘
â•‘  â”‚ â†’ Interface Cáº¦N THIáº¾T Ä‘á»ƒ abstract driver!    â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  âœ… GUIDELINE #3: Pháº§n code CÃ“ THá»‚ THAY Äá»”I!              â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ VÃ­ dá»¥: Payment processing                    â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ type PaymentProcessor interface {             â”‚             â•‘
â•‘  â”‚     Charge(amount int) error                  â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ Stripe hÃ´m nay, PayPal ngÃ y mai?          â”‚             â•‘
â•‘  â”‚ â†’ Pháº§n THAY Äá»”I ÄÃƒ ÄÆ¯á»¢C xÃ¡c Ä‘á»‹nh!        â”‚             â•‘
â•‘  â”‚ â†’ Interface DECOUPLE khá»i change!            â”‚             â•‘
â•‘  â”‚ â†’ Cáº¦N THIáº¾T!                                 â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Â§6. Khi NÃ o KHÃ”NG NÃŠN DÃ¹ng Interface

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   KHI NÃ€O KHÃ”NG NÃŠN â€” ANTI-PATTERNS                         â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  âŒ #1: Interface mirror concrete type!                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ type UserService interface {                  â”‚             â•‘
â•‘  â”‚     GetUser(id int) User                      â”‚             â•‘
â•‘  â”‚     CreateUser(u User) error                  â”‚             â•‘
â•‘  â”‚     DeleteUser(id int) error                  â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚ type userService struct { ... }               â”‚             â•‘
â•‘  â”‚ // â†‘ implements EXACTLY same methods!        â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ 1:1 mapping = SMELL!                       â”‚             â•‘
â•‘  â”‚ â†’ Bá» interface, export struct!               â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  âŒ #2: "PhÃ²ng xa" â€” chÆ°a cáº§n Ä‘Ã£ táº¡o!                      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ "Lá»¡ sau nÃ y cáº§n nhiá»u implementations?"     â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ YAGNI! (You Ain't Gonna Need It!)          â”‚             â•‘
â•‘  â”‚ â†’ Go implicit interface = Táº O SAU Äá»¦!       â”‚             â•‘
â•‘  â”‚ â†’ Khi Cáº¦N â†’ user tá»± declare interface!      â”‚             â•‘
â•‘  â”‚ â†’ KHÃ”NG cáº§n táº¡o trÆ°á»›c!                       â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  âŒ #3: Chá»‰ cÃ³ 1 implementation duy nháº¥t!                   â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ type Logger interface { Log(msg string) }     â”‚             â•‘
â•‘  â”‚ type fileLogger struct { ... }                â”‚             â•‘
â•‘  â”‚ // KhÃ´ng bao giá» cÃ³ implementation khÃ¡c!     â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ 1 implementation = KHÃ”NG Cáº¦N interface!    â”‚             â•‘
â•‘  â”‚ â†’ Export struct trá»±c tiáº¿p!                   â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  âŒ #4: Factory return interface thay vÃ¬ struct!             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ âŒ func New() MyInterface { return &impl{} }  â”‚             â•‘
â•‘  â”‚ âœ… func New() *MyStruct   { return &MyStruct{}}â”‚            â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ "Accept interfaces, RETURN structs!"       â”‚             â•‘
â•‘  â”‚ â†’ Tráº£ concrete type Ä‘á»ƒ user LINH HOáº T!     â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  GO IMPLICIT INTERFACE â€” Sá»¨C Máº NH áº¨N:                        â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ Trong Go, interface lÃ  IMPLICIT!              â”‚             â•‘
â•‘  â”‚ â†’ KhÃ´ng cáº§n `implements` keyword!            â”‚             â•‘
â•‘  â”‚ â†’ USER (consumer) tá»± declare interface!      â”‚             â•‘
â•‘  â”‚ â†’ PRODUCER chá»‰ cáº§n export concrete type!    â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ // Producer (thÆ° viá»‡n tcp):                  â”‚             â•‘
â•‘  â”‚ type Server struct { ... }                    â”‚             â•‘
â•‘  â”‚ func (s *Server) Start() error { ... }        â”‚             â•‘
â•‘  â”‚ func (s *Server) Stop() error  { ... }        â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ // Consumer (user code) â€” Tá»° declare!        â”‚             â•‘
â•‘  â”‚ type Starter interface {                      â”‚             â•‘
â•‘  â”‚     Start() error                             â”‚             â•‘
â•‘  â”‚ }                                             â”‚             â•‘
â•‘  â”‚ // User chá»‰ Cáº¦N Start() â†’ tá»± táº¡o iface!   â”‚             â•‘
â•‘  â”‚ // KhÃ´ng cáº§n Producer táº¡o sáºµn!              â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

---

## Â§7. Tá»•ng Káº¿t & CÃ¢u Há»i Phá»ng Váº¥n Senior Golang

### 7.1 CÃ¢u há»i phá»ng váº¥n

```
â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘   CÃ‚U Há»I PHá»NG Váº¤N SENIOR GOLANG                            â•‘
â• â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•£
â•‘                                                               â•‘
â•‘  Q1: "Interface Pollution lÃ  gÃ¬? Dáº¥u hiá»‡u nháº­n biáº¿t?"      â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ = DÃ¹ng interface khi KHÃ”NG Cáº¦N THIáº¾T!        â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ 4 dáº¥u hiá»‡u (smell list):                    â”‚             â•‘
â•‘  â”‚ 1. Interface = mirror cá»§a concrete type!     â”‚             â•‘
â•‘  â”‚ 2. Factory return interface + unexported type!â”‚             â•‘
â•‘  â”‚ 3. Bá» interface â†’ user code khÃ´ng Ä‘á»•i!      â”‚             â•‘
â•‘  â”‚ 4. Sáº½ khÃ´ng bao giá» cÃ³ implementation má»›i! â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  Q2: "Khi nÃ o NÃŠN dÃ¹ng interface trong Go?"                 â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ 3 trÆ°á»ng há»£p:                                â”‚             â•‘
â•‘  â”‚ 1. User Cáº¦N cung cáº¥p implementation          â”‚             â•‘
â•‘  â”‚    (io.Reader, io.Writer, http.Handler)       â”‚             â•‘
â•‘  â”‚ 2. API cÃ³ NHIá»€U implementations bÃªn trong    â”‚             â•‘
â•‘  â”‚    (database/sql drivers)                     â”‚             â•‘
â•‘  â”‚ 3. Pháº§n code CÃ“ THá»‚ THAY Äá»”I Ä‘Ã£ xÃ¡c Ä‘á»‹nh  â”‚             â•‘
â•‘  â”‚    (payment processor, notification sender)   â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  Q3: "'Accept interfaces, return structs' lÃ  gÃ¬?"           â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ â†’ Function param: dÃ¹ng INTERFACE!            â”‚             â•‘
â•‘  â”‚   (linh hoáº¡t, polymorphic!)                  â”‚             â•‘
â•‘  â”‚ â†’ Function return: dÃ¹ng CONCRETE type!       â”‚             â•‘
â•‘  â”‚   (cho user toÃ n quyá»n quyáº¿t Ä‘á»‹nh!)          â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ âŒ func New() MyInterface                     â”‚             â•‘
â•‘  â”‚ âœ… func New() *MyStruct                       â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ â†’ Go implicit interface = user Tá»° declare!   â”‚             â•‘
â•‘  â”‚ â†’ Producer KHÃ”NG Cáº¦N táº¡o interface sáºµn!     â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•‘  Q4: "Go implicit interface khÃ¡c Java tháº¿ nÃ o?"             â•‘
â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â•‘
â•‘  â”‚ Java: class Foo IMPLEMENTS Bar { ... }        â”‚             â•‘
â•‘  â”‚ â†’ Producer PHáº¢I declare implements!           â”‚             â•‘
â•‘  â”‚ â†’ Producer Táº O interface!                    â”‚             â•‘
â•‘  â”‚                                              â”‚             â•‘
â•‘  â”‚ Go: KHÃ”NG Cáº¦N keyword implements!            â”‚             â•‘
â•‘  â”‚ â†’ CÃ³ method â†’ tá»± Ä‘á»™ng thá»a interface!       â”‚             â•‘
â•‘  â”‚ â†’ CONSUMER (user) tá»± declare interface!      â”‚             â•‘
â•‘  â”‚ â†’ Producer chá»‰ cáº§n export CONCRETE type!    â”‚             â•‘
â•‘  â”‚ â†’ TrÃ¡nh pollution Tá»° NHIÃŠN!                 â”‚             â•‘
â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â•‘
â•‘                                                               â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
```

### 7.2 Tá»•ng káº¿t

```
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚  Tá»”NG Káº¾T: AVOID INTERFACE POLLUTION                    â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                                                          â”‚
    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
    â”‚  â”‚ 1. Interface Pollution = dÃ¹ng khi KHÃ”NG  â”‚            â”‚
    â”‚  â”‚    Cáº¦N THIáº¾T!                             â”‚            â”‚
    â”‚  â”‚                                          â”‚            â”‚
    â”‚  â”‚ 2. 4 Smell List:                          â”‚            â”‚
    â”‚  â”‚    â†’ Mirror concrete type!                â”‚            â”‚
    â”‚  â”‚    â†’ Factory return interface!             â”‚            â”‚
    â”‚  â”‚    â†’ Bá» = user code khÃ´ng Ä‘á»•i!           â”‚            â”‚
    â”‚  â”‚    â†’ KhÃ´ng bao giá» cÃ³ impl má»›i!          â”‚            â”‚
    â”‚  â”‚                                          â”‚            â”‚
    â”‚  â”‚ 3. 3 Guidelines NÃŠN dÃ¹ng:                â”‚            â”‚
    â”‚  â”‚    â†’ User cáº§n cung cáº¥p implementation!    â”‚            â”‚
    â”‚  â”‚    â†’ API cÃ³ nhiá»u implementations!         â”‚            â”‚
    â”‚  â”‚    â†’ Decoupling pháº§n code sáº½ thay Ä‘á»•i!   â”‚            â”‚
    â”‚  â”‚                                          â”‚            â”‚
    â”‚  â”‚ 4. "Accept interfaces, return structs!"   â”‚            â”‚
    â”‚  â”‚    â†’ Go implicit interface = sá»©c máº¡nh!    â”‚            â”‚
    â”‚  â”‚    â†’ Consumer tá»± declare interface!        â”‚            â”‚
    â”‚  â”‚                                          â”‚            â”‚
    â”‚  â”‚ 5. YAGNI = Don't create before needed!    â”‚            â”‚
    â”‚  â”‚    â†’ Interface thá»«a = complexity thá»«a!    â”‚            â”‚
    â”‚  â”‚    â†’ Less is more!                        â”‚            â”‚
    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
    â”‚                                                          â”‚
    â”‚  William Kennedy:                                        â”‚
    â”‚  "Interfaces should ONLY be used when their             â”‚
    â”‚   added value is CLEAR."                                â”‚
    â”‚                                                          â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
